<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Observatorio del Servicio Civil - Dashboard Gerencial</title>

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cabin:wght@400;700&family=Open+Sans:wght@700&family=Roboto:wght@400;700&display=swap">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<style>
/* -------------------- Variables & Reset -------------------- */
:root{
  --color-principal:#C41B3F;        /* Rojo SERVIR */
  --color-principal-oscuro:#90142E;
  --color-secundario:#014B94;        /* Azul */
  --color-secundario-hover:#012447;
  --color-texto:#606060;
  --color-fondo:#F3F5F7;             /* Fondo claro */
  --color-blanco:#FFFFFF;
  --color-alerta:#FFC729;
  --color-header-bg:#ECEFF2;

  /* Neumorfismo base */
  --neu-shadow-dark:rgba(0,0,0,0.12);
  --neu-shadow-light:rgba(255,255,255,0.9);
  --neu-radius:18px;
  --neu-blur:24px;

  /* Tipografías */
  --font-titulo:'Open Sans',sans-serif;
  --font-parrafo:'Calibri','Roboto',sans-serif;
  --font-botones:'Cabin',sans-serif;

  /* Transiciones SPA */
  --transition-fast: .22s ease;
}

/* Modo oscuro */
:root[data-theme="dark"]{
  --color-texto:#E6E6E6;
  --color-fondo:#0F172A;
  --color-blanco:#0B1220;
  --color-header-bg:#111827;
  --neu-shadow-dark:rgba(0,0,0,0.6);
  --neu-shadow-light:rgba(255,255,255,0.07);
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;}
body{
  font-family:var(--font-parrafo);
  background:var(--color-fondo);
  color:var(--color-texto);
  line-height:1.5;
  font-size:16px;
  overflow-x:hidden;
}

/* -------------------- Header fijo -------------------- */
.header-servir{
  position:fixed; inset:0 0 auto 0; height:64px; z-index:1000;
  display:flex; align-items:center; gap:14px; justify-content:center;
  background:var(--color-header-bg);
  border-bottom:1px solid rgba(17,17,17,.15);
  font-family:var(--font-titulo); font-weight:700; color:#fff;
}
.header-servir .title-text{ color:#fff; }
:root:not([data-theme="dark"]) .header-servir .title-text{ color:#111; }

/* 1. MODIFICACIÓN: Alinear el logo al centro de la barra lateral (left: 0) */
/* La barra lateral tiene 260px de ancho */
.header-logo-observatorio{
  position:absolute; left:0; top:0; bottom:0; display:flex; 
  align-items:center; 
  /* Centrar el logo horizontalmente dentro del espacio del sidebar (260px) */
  width: 260px; /* Ancho de la barra lateral */
  justify-content: center; 
}

.header-logo-observatorio img{
  height:44px; /* Ajustado para mejor visualización */
  width:auto; 
  display:block; 
  filter:drop-shadow(0 1px 1px rgba(0,0,0,.12));
}
/* FIN DE MODIFICACIÓN 1 */

/* Toggle tema */
.theme-toggle{
  position:absolute; right:16px; display:flex; align-items:center; gap:8px;
  font-family:var(--font-botones); font-weight:700; font-size:14px;
}
.switch{ position:relative; display:inline-block; width:46px; height:24px; }
.switch input{ display:none; }
.slider{
  position:absolute; cursor:pointer; inset:0; background:#c7cbd1; transition:.2s; border-radius:999px;
}
.slider:before{
  content:""; position:absolute; height:18px; width:18px; left:3px; top:3px; background:white; transition:.2s; border-radius:50%;
}
input:checked + .slider{ background:#4b5563; }
input:checked + .slider:before{ transform:translateX(22px); }

/* -------------------- Layout -------------------- */
.contenedor-observatorio{
  display:flex; min-height:calc(100vh - 64px); margin-top:64px;
}

.nav-sidebar{
  width:260px; position:fixed; top:64px; left:0; height:calc(100% - 64px); z-index:999;
  background:linear-gradient(180deg,var(--color-principal) 0%, var(--color-principal-oscuro) 100%);
  display:flex; flex-direction:column; overflow-y:auto; 
  padding:16px 14px 24px; /* MANTENIDO EL PADDING ORIGINAL (16px arriba) */
  box-shadow: 6px 0 20px rgba(0,0,0,.18);
}

/* Botón colapsar/expandir */
.collapse-btn{
  position: absolute; right:-14px; top:12px;
  width:28px; height:28px; border-radius:999px; border:0; cursor:pointer;
  background:#fff;
  box-shadow:0 4px 12px rgba(0,0,0,.22);
  display:flex; align-items:center; justify-content:center;
}
.collapse-btn img{ width:18px; height:18px; display:block; }

.logo-container{ 
  text-align:center; 
  padding:0; 
  height: 0; 
  overflow: hidden; 
}

/* 2. MODIFICACIÓN: Aumentar el espacio de la lista de botones */
/* Se aplica padding-top al doble del padding de la sidebar original (16px * 2 = 32px) */
.nav-list{ 
  display:grid; gap:10px; list-style:none; 
  margin-top: 32px; /* Aumentado a 32px (doble de 16px) */
}
/* FIN DE MODIFICACIÓN 2 */


/* Íconos + etiquetas */
.nav-icon{ width:22px; height:22px; flex:0 0 22px; display:block; }
.nav-btn{
  display:flex; align-items:center; gap:12px;
  padding:12px 14px;
  border-radius:18px; /* Más redondeado como en la imagen */
  text-decoration:none;
  font-family:var(--font-botones);
  font-weight:700; font-size:15px;
  color:#fff;
  background:var(--color-principal); /* Rojo principal */
  border:1px solid rgba(255,255,255,.1);
  box-shadow:
    0 4px 10px rgba(0,0,0,.2),
    inset 0 2px 4px rgba(255,255,255,.2); /* Sombra para darle profundidad */
  transition:transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast), opacity var(--transition-fast);
  cursor:pointer;
}

/* Iconos blancos por defecto: Asume que las imágenes SVG originales son oscuras y las invierte */
.nav-btn .nav-icon{
  filter: invert(1) grayscale(100%);
}

.nav-btn:hover{
  transform:translateY(-1px);
  background:var(--color-principal-oscuro); /* Rojo más oscuro al pasar el mouse */
  box-shadow: 0 6px 14px rgba(0,0,0,.3);
}

/* Estado activo (Fondo blanco, texto rojo oscuro) */
.nav-btn.active{
  background:var(--color-blanco); /* Fondo blanco */
  color:var(--color-principal-oscuro); /* Texto rojo oscuro */
  box-shadow:
    0 4px 10px rgba(0,0,0,.1),
    inset 0 0 0 rgba(0,0,0,0);
  border-color:rgba(17,17,17,.08);
}

/* Icono activo (SOLO 'Inicio'): Quitar filtro para que tome su color original oscuro */
.nav-btn.active .nav-icon{
  filter: none;
}
/* ← ÚNICO CAMBIO: permitir 2 líneas en la etiqueta */
.nav-btn .label{
  white-space: normal;      /* permite salto de línea */
  line-height: 1.1;
  text-align: left;
  overflow: visible;
  text-overflow: unset;
  word-break: break-word;
}


/* Estado colapsado: solo iconos */
.nav-sidebar.collapsed{ width:72px; }
.nav-sidebar.collapsed .logo-container{ display:none; }
.nav-sidebar.collapsed .nav-btn{ justify-content:center; padding:12px; }
.nav-sidebar.collapsed .nav-btn .label{ display:none; }
.nav-sidebar.collapsed .nav-list{ gap:12px; }

/* Contenido principal */
.contenido-principal{
  margin-left:260px; flex-grow:1; padding:28px; position:relative;
  overflow:hidden;
  min-height:calc(100vh - 64px);
}

/* Ajuste del contenido cuando el menú está colapsado */
body.nav-collapsed .contenido-principal{ margin-left:120px; }
body.nav-collapsed .marca, 
body.nav-collapsed .footer{ margin-left:104px; }

/* -------------------- Contenedores & Neumorfismo -------------------- */
.neu{
  background:var(--color-blanco);
  border-radius:var(--neu-radius);
  box-shadow:
    10px 12px var(--neu-blur) var(--neu-shadow-dark),
    -10px -12px var(--neu-blur) var(--neu-shadow-light);
  border:1px solid rgba(17,17,17,0.06);
}
.neu:hover{
  transform:translateY(-2px);
  transition:transform .15s ease, box-shadow .15s ease;
  box-shadow:
    14px 18px 32px rgba(0,0,0,.22),
    -12px -14px 28px var(--neu-shadow-light);
}

/* -------------------- Vistas SPA -------------------- */
.view{
  position:absolute; inset:0; padding:28px; overflow:auto;
  display:none; opacity:0; transform:scale(.985);
  transition: opacity var(--transition-fast), transform var(--transition-fast);
}
.view.active{
  display:block; opacity:1; transform:scale(1);
}

/* Títulos/secciones internas */
.seccion-tablero{ padding:26px; margin-bottom:28px; position:relative; }
.seccion-tablero h1{
  font-family:var(--font-titulo); font-size:1.7rem; color:#E5E7EB; margin-bottom:20px;
  padding-bottom:10px; border-bottom:3px solid var(--color-secundario);
}
:root:not([data-theme="dark"]) .seccion-tablero h1{ color:#0F172A; }

.layout-explicacion{ display:flex; gap:26px; align-items:stretch; flex-wrap:wrap; }
.columna-texto{
  flex:1 1 520px; padding:18px; background:linear-gradient(180deg,rgba(249,251,252,.75) 0%, rgba(243,246,249,.75) 100%);
  border-radius:14px; border:1px dashed rgba(1,75,148,.18);
}
:root[data-theme="dark"] .columna-texto{
  background:linear-gradient(180deg,rgba(15,23,42,.8) 0%, rgba(17,24,39,.8) 100%);
  border-color:rgba(1,75,148,.35);
}
.columna-texto h2{
  font-family:var(--font-titulo); font-size:1.15rem; color:var(--color-secundario); margin-bottom:8px;
}
.columna-texto p{ font-size:1rem; color:var(--color-texto); }

.columna-media{ flex:1 1 520px; display:flex; align-items:center; justify-content:center; }
.columna-media img{
  max-width:520px; width:100%; height:auto; border-radius:16px;
  box-shadow:0 10px 24px rgba(0,0,0,.20);
  background:#fff;
}

/* ---------- KPI Cards ---------- */
.kpi-grid{
  display:grid; gap:18px;
  grid-template-columns: repeat(4, minmax(180px, 1fr));
}
@media (max-width: 1200px){
  .kpi-grid{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px){
  .kpi-grid{ grid-template-columns: 1fr; }
}
.kpi-card{
  position:relative; padding:18px 18px 16px; border-radius:18px;
  background:var(--color-blanco);
  box-shadow:
    12px 14px 30px rgba(0,0,0,.16),
    -10px -12px 28px var(--neu-shadow-light),
    inset 2px 2px 6px rgba(255,255,255,.6);
  border:1px solid rgba(17,17,17,.06);
}
.kpi-top{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.kpi-top .label{
  font-family:var(--font-botones); font-weight:700; font-size:.9rem; color:#6B7280;
}
.kpi-top .chip{
  font-size:.75rem; padding:4px 8px; border-radius:999px; background:rgba(1,75,148,.08); color:var(--color-secundario);
  border:1px solid rgba(1,75,148,.18);
}
.kpi-value{
  font-family:var(--font-titulo); font-size:2rem; font-weight:800; color:#0F172A;
}
:root[data-theme="dark"] .kpi-value{ color:#E5E7EB; }
.kpi-foot{ font-size:.85rem; color:#6B7280; margin-top:6px; }
.kpi-icon{
  position:absolute; right:12px; bottom:12px; opacity:.18; font-size:46px; color:#111;
}

/* ---------- Placeholder "Pendientes" ---------- */
.pendiente-grid{
  display:grid; gap:18px;
  grid-template-columns: repeat(2, minmax(240px, 1fr));
}
@media (max-width: 900px){
  .pendiente-grid{ grid-template-columns: 1fr; }
}
.pendiente-card{
  padding:24px; border-radius:18px;
  background:var(--color-blanco);
  text-align:center; font-weight:800; letter-spacing:.4px;
  box-shadow:
    12px 14px 30px rgba(0,0,0,.16),
    -10px -12px 28px var(--neu-shadow-light);
  border:1px solid rgba(17,17,17,.06);
  color:#9CA3AF;
}
.pendiente-card .material-icons{ display:block; margin:0 auto 8px; opacity:.35; }

/* Marca institucional superior al footer */
.marca{
  margin:8px 32px 4px 292px;
  font-size:.85rem;
  color:#9CA3AF;
  font-style:italic;
}
:root[data-theme="dark"] .marca{ color:#A3A3A3; }

/* Footer */
.footer{
  margin:4px 32px 40px 292px; color:#9CA3AF; font-size:.9rem;
}
:root:not([data-theme="dark"]) .footer{ color:#6B7280; }

/* --------- SELLO / MARCA DE AGUA (inferior derecha, global) --------- */
.sello{
  position:fixed;
  right:24px; bottom:84px; z-index:950;
  width:180px; height:180px; border-radius:50%;
  background:var(--color-blanco);
  border:2px solid rgba(17,17,17,.08);
  box-shadow:
    14px 18px 32px rgba(0,0,0,.22),
    -12px -14px 28px var(--neu-shadow-light),
    inset 2px 2px 8px rgba(255,255,255,.65);
  display:flex; align-items:center; justify-content:center;
  user-select:none; pointer-events:none;
  opacity:.22; /* marca de agua */
  backdrop-filter: blur(1px);
}
.sello .sello-texto{
  text-align:center; line-height:1.2;
  font-family:var(--font-titulo);
  font-weight:800; letter-spacing:.4px;
  color:#0F172A;
  font-size:.95rem;
  text-transform:uppercase;
}
.sello .sello-sub{
  display:block; margin-top:6px;
  font-size:.7rem; font-weight:700; letter-spacing:.6px; opacity:.9;
}
:root[data-theme="dark"] .sello{
  border-color:rgba(255,255,255,.08);
  box-shadow:
    14px 18px 32px rgba(0,0,0,.5),
    -12px -14px 28px rgba(255,255,255,.06),
    inset 2px 2px 8px rgba(255,255,255,.08);
  color:#E5E7EB;
}

/* Responsivo */
@media (max-width: 1100px){
  .layout-explicacion{ flex-direction:column; }
  .marca, .footer{ margin-left:28px; }
  .sello{ width:140px; height:140px; bottom:82px; right:18px; }
  .sello .sello-texto{ font-size:.85rem; }
}
@media (max-width: 600px){
  .sello{ width:120px; height:120px; }
  .sello .sello-texto{ font-size:.8rem; }
}
</style>
</head>

<body>
  <header class="header-servir">
    <div class="header-logo-observatorio">
      <img alt="Observatorio del Servicio Civil" src="assets/logos/Logo_Observatorio.png" style="height:44px;">
    </div>
    <span class="title-text" style="opacity:0; pointer-events:none;">Autoridad Nacional del Servicio Civil - SERVIR</span>

    <div class="theme-toggle">
      <span class="material-icons" aria-hidden="true">dark_mode</span>
      <label class="switch" title="Cambiar tema">
        <input type="checkbox" id="toggleTheme" aria-label="Cambiar entre modo claro y oscuro">
        <span class="slider"></span>
      </label>
    </div>
  </header>

  <div class="contenedor-observatorio">
    <aside class="nav-sidebar">
      <div class="logo-container">
      </div>

      <button id="toggleNav" class="collapse-btn" aria-label="Contraer menú" title="Contraer/Expandir menú">
        <img id="collapseIcon" src="assets/icons/arrow-left.svg" alt="">
      </button>

      <ul class="nav-list">
        <li><a class="nav-btn active" data-route="inicio" title="Inicio">
          <img class="nav-icon" src="assets/icons/inicio.svg" alt=""> <span class="label">Inicio</span>
        </a></li>

        <li><a class="nav-btn" data-route="caracteristicas" title="Características del Servidor Público">
          <img class="nav-icon" src="assets/icons/caracteristicas_servidorp.svg" alt=""> <span class="label">Características del Servidor Público</span>
        </a></li>

        <li><a class="nav-btn" data-route="gestion-talento" title="Gestión del talento humano">
          <img class="nav-icon" src="assets/icons/gestion_talento.svg" alt=""> <span class="label">Gestión del talento humano</span>
        </a></li>

        <li><a class="nav-btn" data-route="desarrollo-competencias" title="Desarrollo de competencias">
          <img class="nav-icon" src="assets/icons/desarrollo_competencias.svg" alt=""> <span class="label">Desarrollo de competencias</span>
        </a></li>

        <li><a class="nav-btn" data-route="liderazgo-gp" title="Liderazgo en la gestión pública">
          <img class="nav-icon" src="assets/icons/liderazgo_gp.svg" alt=""> <span class="label">Liderazgo en la gestión pública</span>
        </a></li>

        <li><a class="nav-btn" data-route="capacitacion-dc" title="Capacitación y desarrollo continuo">
          <img class="nav-icon" src="assets/icons/Capacitacion_desarrollo_con.svg" alt=""> <span class="label">Capacitación y desarrollo continuo</span>
        </a></li>

        <li><a class="nav-btn" data-route="justicia-adm" title="Justicia administrativa">
          <img class="nav-icon" src="assets/icons/justicia_adm.svg" alt=""> <span class="label">Justicia administrativa</span>
        </a></li>

        <li><a class="nav-btn" data-route="publicaciones" title="Publicaciones">
          <img class="nav-icon" src="assets/icons/publicaciones.svg" alt=""> <span class="label">Publicaciones</span>
        </a></li>

        <li><a class="nav-btn" data-route="datos-abiertos" title="Datos abiertos">
          <img class="nav-icon" src="assets/icons/Datos_abiertos.svg" alt=""> <span class="label">Datos abiertos</span>
        </a></li>
      </ul>
    </aside>

    <main class="contenido-principal">
      <section id="view-inicio" class="view active">
        <section class="seccion-tablero neu" aria-label="Indicadores Clave">
          <h1>Indicadores Clave</h1>
          <div class="kpi-grid">
            <div class="kpi-card">
              <div class="kpi-top"><span class="label">Servidores Civiles</span><span class="chip">Actual</span></div>
              <div class="kpi-value" data-kpi>—</div>
              <div class="kpi-foot">Fuente: registros SERVIR</div>
              <span class="material-icons kpi-icon">groups</span>
            </div>
            <div class="kpi-card">
              <div class="kpi-top"><span class="label">Entidades Integradas</span><span class="chip">+ QoQ</span></div>
              <div class="kpi-value" data-kpi>—</div>
              <div class="kpi-foot">Interoperabilidad y captura</div>
              <span class="material-icons kpi-icon">domain</span>
            </div>
            <div class="kpi-card">
              <div class="kpi-top"><span class="label">Capacitaciones ENAP</span><span class="chip">Año</span></div>
              <div class="kpi-value" data-kpi>—</div>
              <div class="kpi-foot">Cursos y horas dictadas</div>
              <span class="material-icons kpi-icon">school</span>
            </div>
            <div class="kpi-card">
              <div class="kpi-top"><span class="label">% Procedimientos TSC</span><span class="chip">SLA</span></div>
              <div class="kpi-value" data-kpi>—</div>
              <div class="kpi-foot">Oportunidad y cumplimiento</div>
              <span class="material-icons kpi-icon">gavel</span>
            </div>
          </div>
        </section>

        <section class="seccion-tablero neu">
          <h1>Inicio del Observatorio</h1>
          <div class="layout-explicacion">
            <div class="columna-texto">
              <h2>Resumen Ejecutivo</h2>
              <p>
                SERVIR es crucial para la administración pública peruana como ente rector del Sistema de Gestión de Recursos Humanos, respaldada por la Ley N° 30057. Su importancia radica en impulsar la meritocracia y la profesionalización del personal estatal, aumentando la eficacia y eficiencia en la prestación de servicios orientados al ciudadano.
              </p>
            </div>
            <div class="columna-media">
              <img src="assets/images/logo1.png" alt="Logo institucional SERVIR">
            </div>
          </div>
        </section>
      </section>

      <section id="view-caracteristicas" class="view">
        <section class="seccion-tablero neu">
          <h1>Características del Servidor Público</h1>
          <div class="pendiente-grid">
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
          </div>
        </section>
      </section>

      <section id="view-gestion-talento" class="view">
        <section class="seccion-tablero neu">
          <h1>Gestión del talento humano</h1>
          <div class="pendiente-grid">
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
          </div>
        </section>
      </section>

      <section id="view-desarrollo-competencias" class="view">
        <section class="seccion-tablero neu">
          <h1>Desarrollo de competencias</h1>
          <div class="pendiente-grid">
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
          </div>
        </section>
      </section>

      <section id="view-liderazgo-gp" class="view">
        <section class="seccion-tablero neu">
          <h1>Liderazgo en la gestión pública</h1>
          <div class="pendiente-grid">
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
          </div>
        </section>
      </section>

      <section id="view-capacitacion-dc" class="view">
        <section class="seccion-tablero neu">
          <h1>Capacitación y desarrollo continuo</h1>
          <div class="pendiente-grid">
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
          </div>
        </section>
      </section>

      <section id="view-justicia-adm" class="view">
        <section class="seccion-tablero neu">
          <h1>Justicia administrativa</h1>
          <div class="pendiente-grid">
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
          </div>
        </section>
      </section>

      <section id="view-publicaciones" class="view">
        <section class="seccion-tablero neu">
          <h1>Publicaciones</h1>
          <div class="pendiente-grid">
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
          </div>
        </section>
      </section>

      <section id="view-datos-abiertos" class="view">
        <section class="seccion-tablero neu">
          <h1>Datos abiertos</h1>
          <div class="pendiente-grid">
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
            <div class="pendiente-card"><span class="material-icons">pending</span>EN DESARROLLO</div>
          </div>
        </section>
      </section>
    </main>
  </div>

  <div class="marca">
    Por una gestión de alta calidad, aportando liderazgo, eficiencia, ética y vocación de servicio.
  </div>

  <footer class="footer">
    © 2025 Observatorio del Servicio Civil - SERVIR. Todos los derechos reservados.
  </footer>

  <div class="sello" aria-hidden="true">
    <div class="sello-texto">
      Eduardo Magno<br>Fabian
      <span class="sello-sub">Econ.-Consultoría</span>
    </div>
  </div>

<script>
/* ---------- Persistencia del tema ---------- */
(function(){
  const root = document.documentElement;
  const saved = localStorage.getItem('osc-theme');
  if(saved === 'dark'){ root.setAttribute('data-theme','dark'); }
})();

/* Toggle de tema */
document.addEventListener('DOMContentLoaded', () => {
  const checkbox = document.getElementById('toggleTheme');
  const root = document.documentElement;
  const isDark = root.getAttribute('data-theme') === 'dark';
  checkbox.checked = isDark;

  checkbox.addEventListener('change', () => {
    if(checkbox.checked){
      root.setAttribute('data-theme','dark');
      localStorage.setItem('osc-theme','dark');
    }else{
      root.removeAttribute('data-theme');
      localStorage.setItem('osc-theme','light');
    }
  });
});

/* ---------- Router SPA ---------- */
document.addEventListener('DOMContentLoaded', () => {
  const navBtns = document.querySelectorAll('.nav-btn');
  const views = document.querySelectorAll('.view');

  const showView = (route) => {
    navBtns.forEach(b => b.classList.toggle('active', b.dataset.route === route));
    views.forEach(v => v.classList.toggle('active', v.id === `view-${route}`));
    history.pushState({route}, "", `#${route}`);
  };

  navBtns.forEach(btn => {
    btn.addEventListener('click', e => {
      e.preventDefault();
      showView(btn.dataset.route);
    });
  });

  const initRoute = (location.hash || '#inicio').replace('#', '');
  showView(initRoute);
});

/* ====== Sidebar retráctil con persistencia ====== */
document.addEventListener('DOMContentLoaded', () => {
  const sidebar = document.querySelector('.nav-sidebar');
  const body = document.body;
  const btn = document.getElementById('toggleNav');
  const arrow = document.getElementById('collapseIcon');
  const KEY = 'osc-nav-collapsed';

  const apply = (collapsed) => {
    sidebar.classList.toggle('collapsed', collapsed);
    body.classList.toggle('nav-collapsed', collapsed);
    arrow.src = collapsed ? 'assets/icons/arrow-right.svg' : 'assets/icons/arrow-left.svg';
    btn.setAttribute('aria-label', collapsed ? 'Expandir menú' : 'Contraer menú');
    localStorage.setItem(KEY, collapsed ? '1' : '0');
  };

  // Estado inicial desde localStorage
  apply(localStorage.getItem(KEY) === '1');

  // Click para alternar
  btn.addEventListener('click', () => {
    const next = !sidebar.classList.contains('collapsed');
    apply(next);
  });
});
</script>
</body>
</html>